<div class="sc-modal-90perc" sc-modal="perfilCtrl.modal">

  <div class="sc-modal-header">
		<i class="sc-modal-close sc-cursor-pointer sc-icon-fechar-1 sc-badge-hover-red" ng-click="perfilCtrl.close()"></i>
		<button class="sc-btn sc-btn-green sc-m-l-xxl" ng-click="perfilCtrl.novoPerfil()" type="button">Novo Checklist</button>
  </div>

  <div class="sc-panel ng-hide" ng-show="perfilCtrl.perfilNovo">
  	<div class="sc-panel-body grid-container sc-m-b-md">
  		<form class="sc-m-t-md" ng-submit="newPerfilCtrl.newPerfil()">
  			<div class="col-xs-6 sc-p-t-l">
  				<label>
  					<div class="sc-label">Título do Checklist</div>
  					<input class="sc-input-default sc-input-block" ng-model="newPerfilCtrl.newTitulo" type="text">
  				</label>
  			</div>
        <div class="col-xs-3 sc-p-t-l">
          <label>
            <div class="sc-label">Porteiros podem adicionar novos itens?</div>
            <label>
              <span class="sc-toggle sc-m-t-sm">
                <input ng-model="perfilPassagemCtrl.config.impedir_porteiros_cadastrarem_novos_itens" type="checkbox">
                <span label-false="Não" label-true="Sim"></span>
              </span>
            </label>
          </label>
        </div>
  			<div class="clear"></div>
        <div class="sc-m-t-md">
          <div class="col-xs-3 sc-p-t-l">
            <label>
              <div class="sc-label">Categoria</div>
              <div class="sc-input-group">
                <select class="sc-input-default sc-input-block" ng-model="newPerfilCtrl.newCategoria">
                  <option value="" class="" selected="selected"></option>
                  <option ng-repeat="categoria in perfilCtrl.categorias" value="{{categoria.label}}" label="{{categoria.label}}">{{categoria.label}}</option>
                </select>
                <div class="sc-dropdown sc-btn sc-btn-default" ng-click="newPerfilCtrl.toggleCategoriaToolbar()">
                  <i class="sc-icon sc-icon-reticiencias-v"></i>
                  <ul class="sc-dropdown-menu ng-animation-slider pull-right ng-hide" ng-show="newPerfilCtrl.showCategoriaToolbar" style="display: block;">
                    <li>
                      <span ng-click="newPerfilCtrl.newCategoria()">Nova Categoria</span>
                    </li>
                    <li>
                      <span ng-click="newPerfilCtrl.editCategoriaName()">Editar</span>
                    </li>
                    <li>
                      <span ng-click="newPerfilCtrl.disableCategoria()">Desativar</span>
                    </li>
                    <li>
                      <span ng-click="newPerfilCtrl.deleteCategoria()">Excluir</span>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="sc-input-group ng-hide" ng-show="newPerfilCtrl.addNovaCategoria">
                <input class="sc-input-default" ng-model="newPerfilCtrl.novaCategoria">
                <button class="sc-btn sc-btn-green" ng-click="newPerfilCtrl.addCategoria()" type="button">
                  <i class="sc-icon sc-icon-visto-1"></i>
                </button>
                <button class="sc-btn sc-btn-red" ng-click="newPerfilCtrl.dismissCategoria()" type="button">
                  <i class="sc-icon sc-icon-fechar-1"></i>
                </button>
              </div>
              <div class="sc-input-group ng-hide" ng-show="newPerfilCtrl.editCategoriaName">
                <input class="sc-input-default" ng-model="newPerfilCtrl.categoriaNewName">
                <button class="sc-btn sc-btn-green" ng-click="newPerfilCtrl.saveNewName()">
                  <i class="sc-icon sc-icon-visto-1"></i>
                </button>
                <button class="sc-btn sc-btn-red" ng-click="newPerfilCtrl.dismissNewName()">
                  <i class="sc-icon sc-icon-fechar-1"></i>
                </button>
              </div>
            </label>
          </div>
    			<div class="col-xs-4 sc-p-t-l">
    				<label>
    					<div class="sc-label">Item</div>
    					<div class="sc-input-group">
    						<input type="text" class="sc-input-default sc-input-block" name="newItem" ng-model="newPerfilCtrl.newItem">
    						<button ng-click="newPerfilCtrl.addItem()" class="sc-btn sc-btn-green" type="button">
    							<i class="sc-icon sc-icon-mais-1"></i>
    						</button>
    					</div>
    				</label>
    			</div>
          <div class="col-xs-2 sc-p-t-l">
            <label>
              <div class="sc-label">Quantidade?</div>
              <label>
                <span class="sc-toggle sc-m-t-sm">
                  <input type="checkbox" ng-model="perfilCtrl.newHasQtd">
                  <span label-false="Não" label-true="Sim"></span>
                </span>
              </label>
            </label>
          </div>
          <div class="col-xs-2 sc-p-t-l ng-hide" ng-show="perfilCtrl.newHasQtd">
            <label>
              <div class="sc-label">Quantidade:</div>
              <label>
                <input class="sc-input-default sc-input-block" type="number" min="1" max="9999" ng-model="perfilCtrl.newQtd">
              </label>
            </label>
          </div>
        </div>
  			<div class="clear"></div>
  			<div class="sc-m-t-md" ng-repeat="item in newPerfilCtrl.itemList"> <!-- listas de itens do perfil -->
          <div class="sc-m-t-md">
            <div class="col-xs-3 sc-p-t-l">
              <label>
                <div class="sc-label">Categoria</div>
                <select class="sc-input-default sc-input-block">
                  <option value="{{item.label}}" label="{{item.label}}" selected="selected"></option>
                  <option ng-repeat="categoria in perfilCtrl.categorias" value="{{categoria.label}}" label="{{categoria.label}}">{{categoria.label}}</option>
                </select>
              </label>
            </div>
  	  			<div class="col-xs-4 sc-p-t-l">
  	  				<label>
  	  					<div class="sc-label">Item</div>
  	  					<input type="text" class="sc-input-default sc-input-block" value="{{item.nome}}" label="{{item.nome}}">
  	  				</label>
  	  			</div>
    				<div class="col-xs-2 sc-p-t-l">
    					<label>
    						<div class="sc-label">Quantidade?</div>
    						<label>
    							<span class="sc-toggle sc-m-t-sm">
    								<input class="ng-empty" type="checkbox">
    								<span label-false="Não" label-true="Sim"></span>
    							</span>
    						</label>
    					</label>
    				</div>
            <div class="col-xs-2 sc-p-t-l ng-hide" ng-show="perfilCtrl.newHasQtd">
              <label>
                <div class="sc-label">Quantidade:</div>
                <label>
                  <input class="sc-input-default sc-input-block" value="{{item.qtd}}" type="number" min="1" max="9999">
                </label>
              </label>
            </div>
    				<div class="col-xs-1 sc-p-t-l">
    					<label>
    						<div class="fcol-xs-default align-self-flex-end sc-p-h-md sc-p-b-md sc-m-t-xl">
                  <i class="sc-icon sc-icon-lixeira-1 sc-badge-hover-red sc-text-lg" ng-click="newPerfilCtrl.deleteItem($index)"></i>
                </div>
    					</label>
    				</div>
  	  		</div>
        </div>
        <div class="clear"></div>
        <div class="col-xs-2 sc-m-t-lg pull-right">
          <button ng-click="newPerfilCtrl.salvarNovoPerfil()" class="sc-btn sc-btn-green">Salvar Perfil</button>
        </div>
  		</form>
  	</div>
  </div>

  <div class="sc-modal-body">
  	<div class="ng-hide" ng-show="perfisCtrl.list.length == 0">Nenhum perfil foi cadastrado ainda!</div>
  	<div>
	  	<ul class="sc-accordion">
				<li class="" ng-repeat="perfil in perfilCtrl.list">
					<div class="sc-accordion-head flex-row">
						<div class="fcol-xs-auto">
							<div class="sc-ellipsis-inline sc-text-bold sc-text-black">{{perfil.nome}}</div>
						</div>
            <div class="fcol-xs-3em" sc-stop-click>
              <div class="sc-dropdown" ng-click="perfilCtrl.togglePerfisMenu()">
                <i class="sc-badge-hover-gray sc-icon-reticiencias-v" ng-class="{'sc-badge-active': perfilCtrl.menuPerfilOpen}"></i>
                <ul class="sc-dropdown-menu ng-animation-slider pull-right ng-hide" ng-show="perfilCtrl.menuPerfilOpen" style="display: block;">
                  <li>
                    <span>Editar</span>
                  </li>
                  <li>
                    <span>Duplicar perfil</span>
                  </li>
                  <li>
                    <span>Desativar perfil</span>
                  </li>
                  <li>
                    <span>Excluir</span>
                  </li>
                  <li>
                    <span>Histórico</span>
                  </li>
                </ul>
              </div>
            </div>
					</div>
				</li>
			</ul>
		</div>
  </div>

  <div class="sc-modal-footer">
    <button ng-click="perfilCtrl.close()" class="sc-btn">Fechar</button>
  </div>
</div>