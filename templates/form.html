<form ng-submit="submit()" class="sc-p-t-md sc-p-h-lg">
	<!-- Geral -->
	<div class="sc-fieldset sc-m-t-o">
		<div class="sc-p-t-xl align-right" ng-if="!passagem.edit.opened">
			<span class="criado_por infos_informativo">
				<b class="titulo">Criado por:</b>
				<span>{{porteiroAtual}}, em {{dataCriacao}}, às {{horaCriacao}} - {{diaCriacao}}.</span>
			</span>
		</div>

		<div>
			<div class="col-xs-12 col-sm-6 col-md-3 col-lg-4 sc-p-t-xl">
				<label>
					<div class="sc-label">Quem sai:</div>
					<select class="sc-input-default sc-input-block" ng-model="passagem.saindo">
						<option ng-repeat="porteiro in porteirosCtrl.porteirosList" value="{{porteiro.nome}}" label="{{porteiro.nome}}">{{porteiro.nome}}</option>
					</select>
				</label>
			</div>
			<div class="col-xs-2 col-sm-2 col-md-3 col-lg-2 sc-p-t-xl">
				<label>
					<div class="sc-label">Senha:</div>
					<input type="password" class="sc-input sc-input-default">
				</label>
			</div>
			<div class="col-xs-12 col-sm-6 col-md-3 col-lg-4 sc-p-t-xl">
				<label>
					<div class="sc-label">Quem entra:</div>
					<select class="sc-input-default sc-input-block" ng-model="passagem.entrando">>
						<option ng-repeat="porteiro in porteirosCtrl.porteirosList" value="{{porteiro.nome}}" label="{{porteiro.nome}}">{{porteiro.nome}}</option>
					</select>
				</label>
			</div>
			<div class="col-xs-2 col-sm-2 col-md-3 col-lg-2 sc-p-t-xl">
				<label>
					<div class="sc-label">Senha:</div>
					<input type="password" class="sc-input sc-input-default">
				</label>
			</div>
			<span class="col-xs-12 sc-p-t-xxxl sc-p-b-xl">
				Eu, <b>{{passagem.saindo}}</b> (que está saindo), passo o posto de serviço para o(a) <b>{{passagem.entrando}}</b> (que está entrando), de acordo com as informações abaixo:
			</span>

			<div class="col-xs-6 col-md-4 col-lg-6">
				<label>
					<div class="sc-label">Perfil:</div>
					<select class="sc-input-default sc-input-block" ng-model="novaPassagemCtrl.currentPerfil">
						<option ng-repeat="perfil in perfilCtrl.list" value="{{perfil.nome}}" label="{{perfil.nome}}">{{perfil.nome}}</option>
					</select>
				</label>
			</div>
			<div class="clear"></div>
		</div>
	</div>

	<!-- Categorias -->
	<div class="sc-fieldset">
		<div class="sc-fieldset-head">
			<span class="sc-label sc-text-xxl sc-p-t-sm">{{novaPassagemCtrl.currentPerfil || 'Categorias'}}</span>
			<button ng-click="novaPassagemCtrl.criarCategoria()" class="sc-btn sc-btn-green sc-btn-sm sc-btn-thin sc-m-l-lg" type="button">Adicionar Categoria</button>
		</div>

		<div>
			<div ng-show="novaPassagemCtrl.novaCategoria" style="max-width: 21em;">
				<div class="ng-show" ng-hide="categoriasCtrl.novaCategoria">
					<div class="sc-label">Categoria:</div>
					<label class="sc-input-group">
						<select class="sc-input-default sc-input-block" ng-model="novaPassagemCtrl.newCategoria">
							<option value="">Selecione ou cadastre</option>
							<option ng-repeat="categoria in categoriasCtrl.list" value="{{categoria.label}}" label="{{categoria.label}}"></option>
						</select>
						<button class="sc-btn sc-btn-default" ng-click="categoriasCtrl.showOptions()">
							<span>
								<i class="sc-icon sc-icon-reticiencias-v"></i>
							</span>
							<span sc-dropdown-menu class="sc-dropdown pull-right " ng-if="categoriasCtrl.showOpts">
								<ul class="sc-dropdown-menu ng-animation-slider" style="display: block; top: 2.3em;">
									<li ng-click="categoriasCtrl.new()">
										<div>Nova categoria</div>
									</li>
									<li ng-click="categoriasCtrl.edit($index)">
										<div>Editar</div>
									</li>
									<li ng-click="categoriasCtrl.disable()">
										<div>Desativar</div>
									</li>
									<li ng-click="categoriasCtrl.rmv($index)">
										<div>Excluir</div>
									</li>
								</ul>
							</span>
						</button>
						<button ng-click="novaPassagemCtrl.addCategoria()" class="sc-btn sc-btn-green">
							<i class="sc-icon sc-icon-mais-1"></i>
						</button>
						<button ng-click="novaPassagemCtrl.criarCategoria()" class="sc-btn sc-btn-red">
							<i class="sc-icon sc-icon-fechar-1"></i>
						</button>
					</label>
				</div>
				<div class="" ng-if="categoriasCtrl.novaCategoria">
					<div class="sc-label">Nova Categoria</div>
					<label class="sc-input-group">
						<input class="sc-input-default sc-input-block" ng-model="categoriasCtrl.newCategoria" type="text">
						<button class="sc-btn sc-btn-green" ng-click="categoriasCtrl.add()">
							<i class="sc-icon sc-icon-mais-1"></i>
						</button>
						<button class="sc-btn sc-btn-red" ng-click="categoriasCtrl.new()">
							<i class="sc-icon sc-icon-fechar-1"></i>
						</button>
					</label>
				</div>
			</div>
			<div class="sc-fieldset" ng-repeat="categoria in novaPassagemCtrl.listCategorias">
				<div class="sc-fieldset-head flex-row">
					<div class="sc-label sc-p-t-xs sc-p-r-lg">
						<input class="sc-input-default sc-input-thin sc-input-block" value="{{categoria.label}}">
					</div>
					<div class="sc-p-h-xs sc-p-t-xs">
						<i class="sc-icon sc-icon-lixeira-2 sc-badge-hover-red" ng-click="novaPassagemCtrl.removerCategoria($index)"></i>
					</div>
					<div class="sc-p-h-xs sc-p-t-xs">
						<i class="sc-icon sc-icon-mais-1 sc-badge-hover-green" ng-click="novaPassagemCtrl.cadastrarItem($index)"></i>
					</div>
				</div>
				<div class=" sc-p-h-none" ng-if="novaPassagemCtrl.newItem">
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="sc-label">Novo Item:</div>
						<label class="sc-input-group">
							<input class="sc-input sc-input-default sc-input-block" ng-model="novaPassagemCtrl.newItemName" type="text">
							<button ng-click="novaPassagemCtrl.addItem()" class="sc-btn sc-btn-green">
								<i class="sc-icon sc-icon-mais-1"></i>
							</button>
							<button ng-click="novaPassagemCtrl.cadastrarItem()" class="sc-btn sc-btn-red">
								<i class="sc-icon sc-icon-lixeira-2"></i>
							</button>
						</label>
					</div>
					<div class="col-xs-6 col-sm-2 col-md-2 col-lg-1 sc-p-t-xl sc-p-t-none-sm">
						<label>
							<div class="sc-label">Quantidade?</div>
							<span class="sc-toggle sc-m-t-sm">
								<input class="ng-empty" ng-model="novaPassagemCtrl.newItemHasQtd" type="checkbox">
								<span label-false="Não" label-true="Sim"></span>
							</span>
						</label>
					</div>
					<div class="col-xs-6 col-sm-3 col-md-3 col-lg-1 sc-p-t-xl sc-p-t-none-sm " ng-if="novaPassagemCtrl.newItemHasQtd">
						<label>
							<div class="sc-label">Quantidade:</div>
							<input class="col-lg-6 sc-input-default sc-input-block" ng-model="novaPassagemCtrl.newItemQtd">
						</label>
					</div>
				</div>
				<div class="sc-p-t-xs">
					<ul>
						<li class="" ng-if="novaPassagemCtrl.itensTamanho">
							<div class="flex-row sc-p-v-md sc-label sc-text-blue">
								<label class="">
									<input class="sc-checkbox sc-checkbox-gray" type="checkbox">
								</label>
								<div class="col-xs-3 col-md-1 col-sm-2 col-lg-1 sc-text-medium sc-label">Qtde</div>
								<div class="col-xs-auto sc-text-medium sc-label">Item</div>
							</div>
						</li>
						<li ng-repeat="item in novaPassagemCtrl.itens" class="sc-p-b-sm">
							<div class="flex-row">
								<label class="sc-p-t-md">
									<input class="sc-checkbox sc-checkbox-gray" type="checkbox">
								</label>
								<div class="col-xs-3 col-md-1 col-sm-2 col-lg-1">
									<input class="fcol-md-90 sc-input-default sc-input-thin" value="{{item.qtd}}" type="number" min="1" max="999">
								</div>
								<div class="fcol-xs-auto">
									<input class="sc-input-default sc-input-thin col-xs-6" type="text" value="{{item.itemName}}" ng-model="item.itemName">
								</div>
								<div class="fcol-xs-1 align-right">
                  <i class="sc-icon sc-icon-lixeira-1 sc-badge-hover-red sc-text-lg" ng-click="novaPassagemCtrl.deleteItem($index)"></i>
                </div>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<!-- Categorias -->
	<div class="sc-fieldset sc-p-lg" ng-show="novaPassagemCtrl.currentPerfil">
		<label class="sc-label">Observações:</label>
		<textarea class="sc-input sc-input-default sc-input-block" ng-model="passagem.detalhes" rows="5" cols="30"></textarea>
	</div>

	<div class="sc-p-t-md align-right">
		<button class="sc-btn sc-btn-green sc-btn-block-only-xs sc-m-b-sm sc-m-l-md" ng-click="novaPassagemCtrl.salvarEPassarPassagem()">Salvar e passar</button>
		<button class="sc-btn sc-btn-blue sc-btn-block-only-xs sc-m-b-sm sc-m-l-md" ng-click="novaPassagemCtrl.salvarPassagem()">Salvar</button>
		<button class="sc-btn sc-btn-red sc-btn-block-only-xs sc-m-b-sm sc-m-l-md" ng-click="passagem.edit.opened">Cancelar</button>
	</div>
</form>
